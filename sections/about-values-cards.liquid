{% schema %}
{
  "name": "About Values - Cards",
  "tag": "section",
  "class": "section-about-values",
  "max_blocks": 6,
  "settings": [
    {
      "type": "text",
      "id": "section_heading",
      "label": "Section Heading",
      "default": "Our Values"
    },
    {
      "type": "select",
      "id": "card_style",
      "label": "Card Style",
      "options": [
        { "value": "glass", "label": "Glassmorphism" },
        { "value": "solid", "label": "Solid" },
        { "value": "outlined", "label": "Outlined" }
      ],
      "default": "glass"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-1"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 80
    }
  ],
  "blocks": [
    {
      "type": "value_card",
      "name": "Value Card",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "quality", "label": "Quality" },
            { "value": "timeless", "label": "Timeless" },
            { "value": "sustainable", "label": "Sustainable" },
            { "value": "craftsmanship", "label": "Craftsmanship" },
            { "value": "innovation", "label": "Innovation" },
            { "value": "community", "label": "Community" }
          ],
          "default": "quality"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Our Value"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Description of this value and what it means to us."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "About Values - Cards",
      "blocks": [
        {
          "type": "value_card",
          "settings": {
            "icon": "quality",
            "heading": "Premium Quality",
            "description": "Carefully selected materials and meticulous craftsmanship."
          }
        },
        {
          "type": "value_card",
          "settings": {
            "icon": "timeless",
            "heading": "Timeless Design",
            "description": "Classic styles that transcend trends and seasons."
          }
        },
        {
          "type": "value_card",
          "settings": {
            "icon": "sustainable",
            "heading": "Sustainable",
            "description": "Committed to ethical production and responsibility."
          }
        }
      ]
    }
  ]
}
{% endschema %}

{%- style -%}
  .about-values {
    padding: {{ section.settings.padding_top }}px 2rem {{ section.settings.padding_bottom }}px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .about-values__heading {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 700;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: -0.02em;
    margin: 0 0 4rem 0;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .about-values__heading.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .about-values__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  @media screen and (min-width: 750px) {
    .about-values__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media screen and (min-width: 990px) {
    .about-values__grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .about-values__card {
    padding: 3rem 2rem;
    text-align: center;
    border-radius: 8px;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);

    {% if section.settings.card_style == 'glass' %}
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    {% elsif section.settings.card_style == 'solid' %}
      background: var(--color-background);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    {% else %}
      background: transparent;
      border: 1px solid rgba(var(--color-foreground), 0.2);
    {% endif %}
  }

  .about-values__card.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  @media (hover: hover) {
    .about-values__card:hover {
      transform: translateY(-8px);
      {% if section.settings.card_style == 'glass' %}
        background: rgba(255, 255, 255, 0.08);
        border-color: rgba(255, 255, 255, 0.2);
      {% elsif section.settings.card_style == 'solid' %}
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      {% else %}
        border-color: rgba(var(--color-foreground), 0.4);
      {% endif %}
    }
  }

  .about-values__icon {
    width: 64px;
    height: 64px;
    margin: 0 auto 1.5rem;
    opacity: 0.9;
  }

  .about-values__card-heading {
    font-size: clamp(1.25rem, 2vw, 1.5rem);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0 0 1rem 0;
  }

  .about-values__description {
    font-size: 1rem;
    line-height: 1.6;
    font-weight: 300;
    opacity: 0.8;
    margin: 0;
  }
{%- endstyle -%}

<div class="about-values color-{{ section.settings.color_scheme }}">
  <h2 class="about-values__heading" data-scroll-reveal>
    {{ section.settings.section_heading }}
  </h2>

  <div class="about-values__grid">
    {%- for block in section.blocks -%}
      <div
        class="about-values__card"
        data-scroll-reveal
        style="transition-delay: {{ forloop.index0 | times: 0.15 }}s"
        {{ block.shopify_attributes }}
      >
        <div class="about-values__icon">
          {%- case block.settings.icon -%}
            {%- when 'quality' -%}
              <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M32 8L40 24L56 26L44 38L47 54L32 46L17 54L20 38L8 26L24 24L32 8Z" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            {%- when 'timeless' -%}
              <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="32" cy="32" r="24"/>
                <path d="M32 16V32L42 42" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            {%- when 'sustainable' -%}
              <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M32 8C32 8 16 16 16 32C16 40 22 48 32 48C42 48 48 40 48 32C48 16 32 8 32 8Z" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M32 24V40M24 32H40" stroke-linecap="round"/>
              </svg>
            {%- when 'craftsmanship' -%}
              <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 24L32 8L48 24M32 8V56M24 56H40" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            {%- when 'innovation' -%}
              <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M32 8V16M32 48V56M16 32H8M56 32H48M44 44L48 48M16 16L20 20M48 16L44 20M16 48L20 44" stroke-linecap="round"/>
                <circle cx="32" cy="32" r="12"/>
              </svg>
            {%- when 'community' -%}
              <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="32" cy="20" r="8"/>
                <circle cx="16" cy="28" r="6"/>
                <circle cx="48" cy="28" r="6"/>
                <path d="M32 32C38 32 44 36 44 44V52H20V44C20 36 26 32 32 32Z" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
          {%- endcase -%}
        </div>
        <h3 class="about-values__card-heading">
          {{ block.settings.heading }}
        </h3>
        <p class="about-values__description">
          {{ block.settings.description }}
        </p>
      </div>
    {%- endfor -%}
  </div>
</div>

<script>
  // Staggered scroll reveal
  if ('IntersectionObserver' in window) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      },
      {
        threshold: 0.2,
        rootMargin: '0px 0px -80px 0px',
      }
    );

    document.querySelectorAll('.about-values [data-scroll-reveal]').forEach((el) => {
      observer.observe(el);
    });
  } else {
    document.querySelectorAll('.about-values [data-scroll-reveal]').forEach((el) => {
      el.classList.add('is-visible');
    });
  }
</script>
